{% extends "cinema/layout.html" %}

{% block content %}

{% load static %}

<!-- ======= Movie Section ======= -->
<section >
  <div class="col-md-12 movie ">
    <h1 class="ml-5">{{ movie.name }}</h1>      
  </div>
    <div class="row col-md-12 pt-5 pb-5">
      <div class="col-md-4">
        <div class="offset-1">
        {% if movie.image %}
        <img src="{{ movie.image }}" alt="{{ movie.name }}">
        {% else %}
        <img class="opacity-75" src="{% static 'img/movie-placeholder.png' %}" alt="{{ movie.name }}">
        {% endif %}
        </div>
      </div>

      <div class="col-md-8">
       <span class="txt_header">Category:</span> 
        <p class="text-white-50">{{ movie.category.name }}</p>
        <hr>
        <span class="txt_header">Description:</span> 
        <p>{{ movie.description }}</p>
        <hr>
        <span class="txt_header">Details:</span>        
        <p>
          <span class="pl-3 bold">Release Date:</span> <span class="text-white-50">{{ movie.release_date }}</span><br>
          <span class="pl-3 bold">Length: </span><span class="text-white-50">{{ movie.duration }}</span><br>
          <span class="pl-3 bold">Age rating: </span><span class="text-white-50">{{ movie.age_rating }}</span><br>
        </p>
        <hr>
        <span class="txt_header">Shows:</span> 
        {% for screen in movie.screens %}
        <table class="mt-3 table">
          <thead>
            <tr>
              <th scope="col" style="width:20%" class="bold">Theater</th>
              <th scope="col" style="width:15%" class="bold">Screen</th>
              <th scope="col" style="width:15%" class="bold">Seats</th>
              <th scope="col" style="width:25%" class="bold">Available from</th>
              <th scope="col" style="width:25%" class="bold">Available until</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="small">{{ screen.theater.name }}<br>{{ screen.theater.location }}</td>
              <td class="small">{{ screen.name }}</td>
              <td class="small">{{ screen.total_seats_available }} / {{ screen.total_seats }}</td>
              <td class="small">{{ screen.movie.starts_at }}</td>
              <td class="small">{{ screen.movie.ends_at }}</td>
            </tr>
          </tbody>
        </table>
        
        
        {% endfor %}

      </div>
    </div>
</section><!-- End Movie Section -->

{% endblock %}
